<!doctype html>
<title>virtual - dhtml</title>

<style>
  @import '/static/styles.css';
</style>

<script type="module">
  import {html, refs} from '/static/dhtml.js';

  const counterTemplate = html`
    <button ref="decrement">-</button>
    <span ref="label"></span>
    <button ref="increment">+</button>
  `;

  function Counter(props) {
    const view = counterTemplate();
    const { label, decrement, increment } = refs(view);

    function update() {
      label.textContent = props.count;
    }

    decrement.onclick = () => {
      props.count -= 1;
      update();
    };

    increment.onclick = () => {
      props.count += 1;
      update();
    };
    
    update();

    return view;
  }

  document.body.append(
    Counter({ count: 0 }),
    Counter({ count: 1 }),
    Counter({ count: 2 }),
  );
</script>

<a href="/">&lt; back</a>

<hr/>